# 神经海测试关卡

这个目录包含了为"神经海"游戏项目创建的测试关卡相关脚本。

## 脚本概述

### 玩家控制
- `PlayerController2.cs`: 一个简化版的玩家控制器，支持移动和跳跃功能。

### 关卡管理
- `TestLevelManager.cs`: 管理测试关卡的主要脚本，包括玩家生成、UI更新、关卡完成检测等功能。
- `SimpleLevelGoal.cs`: 定义关卡目标点，当玩家达到目标点且满足条件时触发关卡完成。

### 交换系统
- `SimpleSwapManager.cs`: 简化版的交换管理器，处理对象之间的交换机制。
- `SimpleSwappableObject.cs`: 可交换对象的基础脚本，定义了对象如何被选择和交换。
- `SimpleCollectible.cs`: 可收集物品，可以增加玩家的交换次数。

## 使用方法

### 设置测试关卡

1. 创建一个新的Unity场景
2. 添加以下对象到场景中:
   - 地面和平台 (使用2D碰撞器)
   - 玩家对象 (附加`PlayerController2.cs`脚本)
   - 关卡管理器 (空对象，附加`TestLevelManager.cs`脚本)
   - 交换管理器 (空对象，附加`SimpleSwapManager.cs`脚本)
   - 关卡目标 (附加`SimpleLevelGoal.cs`脚本)
   - 可交换对象 (各种附加`SimpleSwappableObject.cs`脚本的对象)
   - 收集物 (附加`SimpleCollectible.cs`脚本的对象)

3. 确保所有对象都设置了正确的图层和标签:
   - 玩家对象应标记为"Player"
   - 地面和平台应在"Ground"层
   - 可交换对象应有刚体和碰撞器

### 游戏玩法

1. 使用方向键或WASD移动玩家
2. 按空格键跳跃
3. 点击可交换对象进行选择，然后点击另一个可交换对象完成交换
4. 收集交换点增加可用的交换次数
5. 达到关卡目标点完成关卡

### 自定义设置

#### 玩家控制器 (PlayerController2)
- 移动速度和跳跃力度可以在Inspector中调整
- 地面检测参数可以根据玩家精灵的大小进行调整

#### 交换管理器 (SimpleSwapManager)
- 最大交换次数决定了玩家可以进行多少次交换
- 交换有效距离限制了可以交换的对象之间的最大距离
- 可以自定义交换线的外观

#### 关卡管理器 (TestLevelManager)
- 可以设置关卡名称和说明
- 可以控制是否需要收集所有收集物才能完成关卡
- 可以自定义UI元素

## 扩展功能

你可以根据需要扩展这些基础脚本:

1. 添加更多类型的可交换对象，如:
   - 只能向上移动的平台
   - 触发机关的对象
   - 具有特殊物理特性的对象

2. 增加游戏机制:
   - 时间限制
   - 分数系统
   - 更多的收集物类型
   - 敌人和障碍物

3. 改进视觉效果:
   - 添加粒子效果
   - 屏幕过渡效果
   - 更丰富的UI动画

## 注意事项

- 确保物理设置正确，特别是对于可交换的对象
- 测试不同的关卡布局以确保游戏体验流畅
- 平衡交换次数与关卡难度
- 确保所有的可交换对象都易于识别 